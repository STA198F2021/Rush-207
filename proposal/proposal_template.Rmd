---
title: "Project Proposal"
subtitle: "due October 11, 2021 by 11:59 PM "
author: "Shelby Brown, Katie Lam, Kaeden Hill"
date: "10/9/2021"
output: pdf_document
---

# Load Packages
```{r load-packages, message = FALSE, warning = FALSE}
library(tidyverse) 
``` 

# Load Data
```{r load-data, message = FALSE}
heart <- readr::read_csv("heart.csv")
```

# Introduction and Data, including Research Questions
For this data visualization, we will be analyzing chest pain types and their relation to other physiological factors. We will be looking for an association between factors, such as blood pressure, cholesterol, and exercise, and the type of chest pain a patient experiences. We also plan on using this dataset to look for a possible association between chest pain type and whether that patient experiences heart disease. The dataset we have chosen is the Heart Failure Prediction Dataset. We retrieved it from Kaggle, and it is a compiled dataset from five sets with common variables. These sources are the Hungarian Institute of Cardiology. Budapest, University Hospital, Zurich, Switzerland, University Hospital, Basel, Switzerland, the V.A. Medical Center, Long Beach, and the Cleveland Clinic Foundation. The variables of interest include the age of the patient, gender, their resting blood pressure (mm Hg), their serum cholesterol (mm/d), and whether they have heart disease. We will also be using the categorical variables compiled on the chest pain type (typical angina, atypical angina, non-anginal pain, or asymptomatic), and whether the angina was exercise induced (yes or no).

Research Question: Can factors such as blood pressure, cholesterol, and exercise affect the chest pain type a patient experiences? Is a certain chest pain type more associated with heart disease?

fedesoriano. (September 2021). Heart Failure Prediction Dataset. Retrieved 10/09/2021 fromÂ https://www.kaggle.com/fedesoriano/heart-failure-prediction.

# Glimpse

```{r glimpse}
glimpse(heart)
```

# Data Analysis Plan

```{r mean-chol}

mean_cholesterol <- heart %>%
  group_by(ChestPainType) %>%
  summarize(mean_cholesterol = mean(Cholesterol))%>%
  print()

```
```{r bar-cholesterol, fig.height = 3, fig.width = 3}

mean_cholesterol %>%
  ggplot()+
  geom_col(mapping = aes(x = ChestPainType, y = mean_cholesterol,  fill = ChestPainType), position = "dodge")+
  	theme(legend.position = "none")+
    labs(title = "Mean Cholesterol Levels",
         subtitle = "By Chest Pain Type",
         x = "Chest Pain Type",
         y = "Mean Cholesterol Levels (mm/dL)")
  
```
```{r mean-rbp}
mean_rbp <- heart %>%
  group_by(ChestPainType) %>%
  summarize(mean_rbp = mean(RestingBP)) %>%
  print()

```
```{r count-excersize-ang}
count_excersize <- heart%>%
  group_by(ChestPainType) %>%
  filter(ExerciseAngina == "Y") %>%
  summarize(n()) %>%
  print()

```
When determining whether certain factors are associated with the type of angina experienced, the explanatory variables will be either cholesterol levels, resting blood pressure, or whether the angina was exercise induced. The association of each variable with the type of angina will be analyzed separately. The response variable will be the type of chest pain experienced by the patient. 

Then, for the second part of the study, the explanatory variable will be the type of chest pain experienced, and the response variable will be whether the patient had heart disease. This will allow for an analysis of whether one type of chest pain is more associated with heart disease than others. Through combining conclusions made from the first part of the study with conclusions made in the second part of the study, we could see if cholesterol, resting blood pressure, or whether or not the angina was exercise induced, can be used as a predictor for a patient having heart disease. 

A one-way ANOVA can be used to determine whether there are any statistically significant differences between the means of multiple samples. This can be applied to this study to determine if means of one of the explanatory variables are significantly different between each type of chest pain. This will allow us to see if cholesterol levels or resting blood pressure might be associated more with a certain type of chest pain. For whether the angina was exercise induced, the proportion of anginas that were exercise induced for each type of chest pain can be compared visually, through an ANOVA test adapted for proportion comparisons instead of mean comparison, or through a T test to compare whether differences in means are significant. A larger F statistic from the ANOVA test will serve as stronger evidence that the means across groups are different. This would support our hypothesis for the study that means across groups will vary and certain variables will be associated more closely with one type of chest pain. We will use the means and bar visual generated above to run the one-way ANOVA and any other tests comparing the groups of data.

